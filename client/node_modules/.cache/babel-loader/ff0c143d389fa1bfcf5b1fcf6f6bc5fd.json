{"ast":null,"code":"var _jsxFileName = \"/Users/shameemaafroz/Desktop/Mission22/PH5/car-services/client/src/Pages/Login/Login/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef } from 'react';\nimport { Button, Form } from 'react-bootstrap';\nimport { useSendPasswordResetEmail, useSignInWithEmailAndPassword } from 'react-firebase-hooks/auth';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport auth from '../../../firebase.init';\nimport Loading from '../../Shared/Loading/Loading';\nimport SocialLogin from '../SocialLogin/SocialLogin';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport PageTitle from '../../Shared/PageTitle/PageTitle';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  var _location$state, _location$state$from;\n\n  const emailRef = useRef('');\n  const passwordRef = useRef('');\n  const navigate = useNavigate();\n  const location = useLocation();\n  let from = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : (_location$state$from = _location$state.from) === null || _location$state$from === void 0 ? void 0 : _location$state$from.pathname) || \"/\";\n  let errorElement;\n  const [signInWithEmailAndPassword, user, loading, error] = useSignInWithEmailAndPassword(auth);\n  const [sendPasswordResetEmail, sending] = useSendPasswordResetEmail(auth);\n\n  if (loading || sending) {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (user) {\n    navigate(from, {\n      replace: true\n    });\n  }\n\n  if (error) {\n    errorElement = /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-danger\",\n      children: [\"Error: \", error === null || error === void 0 ? void 0 : error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 24\n    }, this);\n  }\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const email = emailRef.current.value;\n    const password = passwordRef.current.value;\n    signInWithEmailAndPassword(email, password);\n  };\n\n  const navigateRegister = event => {\n    navigate('/register');\n  };\n\n  const resetPassword = async () => {\n    const email = emailRef.current.value;\n\n    if (email) {\n      await sendPasswordResetEmail(email);\n      toast('Sent email');\n    } else {\n      toast('please enter your email address');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container w-50 mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(PageTitle, {\n      title: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-primary text-center mt-2\",\n      children: \"Please Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        controlId: \"formBasicEmail\",\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          ref: emailRef,\n          type: \"email\",\n          placeholder: \"Enter email\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        controlId: \"formBasicPassword\",\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          ref: passwordRef,\n          type: \"password\",\n          placeholder: \"Password\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary w-50 mx-auto d-block mb-2\",\n        type: \"submit\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), errorElement, /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"New to Genius Car? \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/register\",\n        className: \"text-primary pe-auto text-decoration-none\",\n        onClick: navigateRegister,\n        children: \"Please Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 35\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Forget Password? \", /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-link text-primary pe-auto text-decoration-none\",\n        onClick: resetPassword,\n        children: \"Reset Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 33\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SocialLogin, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"g64QcehLKlkzYULuIawmGZA65tU=\", false, function () {\n  return [useNavigate, useLocation, useSignInWithEmailAndPassword, useSendPasswordResetEmail];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/shameemaafroz/Desktop/Mission22/PH5/car-services/client/src/Pages/Login/Login/Login.js"],"names":["React","useRef","Button","Form","useSendPasswordResetEmail","useSignInWithEmailAndPassword","Link","useLocation","useNavigate","auth","Loading","SocialLogin","ToastContainer","toast","PageTitle","Login","emailRef","passwordRef","navigate","location","from","state","pathname","errorElement","signInWithEmailAndPassword","user","loading","error","sendPasswordResetEmail","sending","replace","message","handleSubmit","event","preventDefault","email","current","value","password","navigateRegister","resetPassword"],"mappings":"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","sourcesContent":["import React, { useRef } from 'react';\nimport { Button, Form } from 'react-bootstrap';\nimport { useSendPasswordResetEmail, useSignInWithEmailAndPassword } from 'react-firebase-hooks/auth';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport auth from '../../../firebase.init';\nimport Loading from '../../Shared/Loading/Loading';\nimport SocialLogin from '../SocialLogin/SocialLogin';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport PageTitle from '../../Shared/PageTitle/PageTitle';\n\nconst Login = () => {\n    const emailRef = useRef('');\n    const passwordRef = useRef('');\n    const navigate = useNavigate();\n    const location = useLocation();\n\n    let from = location.state?.from?.pathname || \"/\";\n    let errorElement;\n    const [\n        signInWithEmailAndPassword,\n        user,\n        loading,\n        error,\n    ] = useSignInWithEmailAndPassword(auth);\n\n    const [sendPasswordResetEmail, sending] = useSendPasswordResetEmail(auth);\n\n    if (loading || sending) {\n        return <Loading></Loading>\n    }\n\n    if (user) {\n        navigate(from, { replace: true });\n    }\n\n    if (error) {\n        errorElement = <p className='text-danger'>Error: {error?.message}</p>\n    }\n\n    const handleSubmit = event => {\n        event.preventDefault();\n        const email = emailRef.current.value;\n        const password = passwordRef.current.value;\n\n        signInWithEmailAndPassword(email, password);\n    }\n\n    const navigateRegister = event => {\n        navigate('/register');\n    }\n\n    const resetPassword = async () => {\n        const email = emailRef.current.value;\n        if (email) {\n            await sendPasswordResetEmail(email);\n            toast('Sent email');\n        }\n        else{\n            toast('please enter your email address');\n        }\n    }\n\n    return (\n        <div className='container w-50 mx-auto'>\n            <PageTitle title=\"Login\"></PageTitle>\n            <h2 className='text-primary text-center mt-2'>Please Login</h2>\n            <Form onSubmit={handleSubmit}>\n                <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n                    <Form.Control ref={emailRef} type=\"email\" placeholder=\"Enter email\" required />\n                </Form.Group>\n                <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n                    <Form.Control ref={passwordRef} type=\"password\" placeholder=\"Password\" required />\n                </Form.Group>\n                <Button variant=\"primary w-50 mx-auto d-block mb-2\" type=\"submit\">\n                    Login\n                </Button>\n            </Form>\n            {errorElement}\n            <p>New to Genius Car? <Link to=\"/register\" className='text-primary pe-auto text-decoration-none' onClick={navigateRegister}>Please Register</Link> </p>\n            <p>Forget Password? <button className='btn btn-link text-primary pe-auto text-decoration-none' onClick={resetPassword}>Reset Password</button> </p>\n            <SocialLogin></SocialLogin>\n            <ToastContainer />\n        </div>\n    );\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}